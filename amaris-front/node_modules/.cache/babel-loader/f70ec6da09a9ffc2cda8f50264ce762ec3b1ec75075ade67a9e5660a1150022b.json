{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/dan5-/OneDrive/Escritorio/Pruebas tecnicas/amarisFront/amaris-front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/dan5-/OneDrive/Escritorio/Pruebas tecnicas/amarisFront/amaris-front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/dan5-/OneDrive/Escritorio/Pruebas tecnicas/amarisFront/amaris-front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),employeeData=_useState2[0],setEmployeeData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),employeeList=_useState4[0],setEmployeeList=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),id=_useState6[0],setId=_useState6[1];var urlEmployee='http://localhost:8080/api/employee/getEmployee';var urlList='http://localhost:8080/api/employee/getEmployeeList';var fetchEmployee=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,errorMessage,_response,_data,_errorMessage,_errorMessage2;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;if(!(id.trim()!=='')){_context.next=17;break;}_context.next=4;return fetch(urlEmployee,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:id})});case 4:response=_context.sent;_context.next=7;return response.json();case 7:data=_context.sent;if(!(data.ok===true)){_context.next=13;break;}errorMessage='Demasiadas peticiones. Intenta más tarde.';window.alert(errorMessage);console.log('Employee Response:',data);return _context.abrupt(\"return\");case 13:setEmployeeData(data.data);console.log('Employee Response:',data);_context.next=30;break;case 17:_context.next=19;return fetch(urlList);case 19:_response=_context.sent;_context.next=22;return _response.json();case 22:_data=_context.sent;if(!(_data.ok===true)){_context.next=28;break;}_errorMessage='Demasiadas peticiones. Intenta más tarde.';window.alert(_errorMessage);console.log('Employee List Response:',_data);return _context.abrupt(\"return\");case 28:setEmployeeList(_data.data);console.log('Employee List Response:',_data);case 30:_context.next=37;break;case 32:_context.prev=32;_context.t0=_context[\"catch\"](0);window.alert(_context.t0);console.error('Error fetching employee:',_context.t0);if(_context.t0 instanceof TypeError&&_context.t0.message==='Failed to fetch'){_errorMessage2='Demasiadas peticiones. Intenta más tarde.';window.alert(_errorMessage2);console.error(_errorMessage2);}case 37:case\"end\":return _context.stop();}},_callee,null,[[0,32]]);}));return function fetchEmployee(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"id\",className:\"form-label\",children:\"Enter ID:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"id\",className:\"form-control\",placeholder:\"Enter ID\",value:id,onChange:function onChange(e){return setId(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:fetchEmployee,children:\"Buscar\"})]})]})}),employeeData&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Detalles del empleado\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Salary\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Age\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Annual Salary\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:employeeData.id}),/*#__PURE__*/_jsx(\"td\",{children:employeeData.employee_name}),/*#__PURE__*/_jsx(\"td\",{children:employeeData.employee_salary}),/*#__PURE__*/_jsx(\"td\",{children:employeeData.employee_age}),/*#__PURE__*/_jsx(\"td\",{children:employeeData.employee_annual_salary})]})})]})]}),employeeList&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Lista de empleados\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Salary\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Age\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Annual Salary\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:employeeList.map(function(employee){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:employee.id}),/*#__PURE__*/_jsx(\"td\",{children:employee.employee_name}),/*#__PURE__*/_jsx(\"td\",{children:employee.employee_salary}),/*#__PURE__*/_jsx(\"td\",{children:employee.employee_age}),/*#__PURE__*/_jsx(\"td\",{children:employee.employee_annual_salary})]},employee.id);})})]})]})]});}export default App;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","employeeData","setEmployeeData","_useState3","_useState4","employeeList","setEmployeeList","_useState5","_useState6","id","setId","urlEmployee","urlList","fetchEmployee","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","errorMessage","_response","_data","_errorMessage","_errorMessage2","wrap","_callee$","_context","prev","next","trim","fetch","method","headers","body","JSON","stringify","sent","json","ok","window","alert","console","log","abrupt","t0","error","TypeError","message","stop","apply","arguments","className","children","htmlFor","type","placeholder","value","onChange","e","target","onClick","employee_name","employee_salary","employee_age","employee_annual_salary","map","employee"],"sources":["C:/Users/dan5-/OneDrive/Escritorio/Pruebas tecnicas/amarisFront/amaris-front/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\n\nfunction App() {\n  const [employeeData, setEmployeeData] = useState(null);\n  const [employeeList, setEmployeeList] = useState(null);\n  const [id, setId] = useState('');\n\n  const urlEmployee='http://localhost:8080/api/employee/getEmployee';\n  const urlList='http://localhost:8080/api/employee/getEmployeeList';\n\n\n  const fetchEmployee = async () => {\n    try {\n      if (id.trim() !== '') {\n        const response = await fetch(urlEmployee, {\n          method: 'POST', \n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({ id: id }) \n        });\n        const data = await response.json();\n        if (data.ok===true) {\n          const errorMessage = 'Demasiadas peticiones. Intenta más tarde.';\n          window.alert(errorMessage);\n          console.log('Employee Response:', data);\n          return;\n        }\n        setEmployeeData(data.data);\n        console.log('Employee Response:', data); \n      } else {\n        const response = await fetch(urlList);\n\n        const data = await response.json();\n\n        if (data.ok===true) {\n          const errorMessage = 'Demasiadas peticiones. Intenta más tarde.';\n          window.alert(errorMessage);\n          console.log('Employee List Response:', data);\n          return;\n        }\n        setEmployeeList(data.data);\n\n        console.log('Employee List Response:', data);\n      }\n    } catch (error) {\n      window.alert(error);\n      console.error('Error fetching employee:', error);\n      if (error instanceof TypeError && error.message === 'Failed to fetch') {\n        const errorMessage = 'Demasiadas peticiones. Intenta más tarde.';\n        window.alert(errorMessage);\n        console.error(errorMessage);\n      }\n    }\n  };\n  \n\n  return (\n    <div className=\"container mt-5\">\n      <div className=\"row\">\n        <div className=\"col-md-6\">\n          <label htmlFor=\"id\" className=\"form-label\">Enter ID:</label>\n          <div className=\"input-group\">\n            <input\n              type=\"text\"\n              id=\"id\"\n              className=\"form-control\"\n              placeholder=\"Enter ID\"\n              value={id}\n              onChange={(e) => setId(e.target.value)}\n            />\n            <button className=\"btn btn-primary\" onClick={fetchEmployee}>Buscar</button>\n          </div>\n        </div>\n      </div>\n\n      {employeeData && (\n        <div>\n          <h2>Detalles del empleado</h2>\n          <table className=\"table table-bordered\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Name</th>\n                <th>Salary</th>\n                <th>Age</th>\n                <th>Annual Salary</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>{employeeData.id}</td>\n                <td>{employeeData.employee_name}</td>\n                <td>{employeeData.employee_salary}</td>\n                <td>{employeeData.employee_age}</td>\n                <td>{employeeData.employee_annual_salary}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      {employeeList && (\n        <div>\n          <h2>Lista de empleados</h2>\n          <table className=\"table table-bordered\">\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Name</th>\n                <th>Salary</th>\n                <th>Age</th>\n                <th>Annual Salary</th>\n              </tr>\n            </thead>\n            <tbody>\n              {employeeList.map((employee) => (\n                <tr key={employee.id}>\n                  <td>{employee.id}</td>\n                  <td>{employee.employee_name}</td>\n                  <td>{employee.employee_salary}</td>\n                  <td>{employee.employee_age}</td>\n                  <td>{employee.employee_annual_salary}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}